import{S as Pt,i as It,s as Vt,k as a,q as D,a as O,l as n,m as p,r as M,h as f,c as P,n as o,b as Ut,D as s,K as q,L as X,M as Dt,u as Mt,E as Ot,N as At,o as St}from"../chunks/index.64d89341.js";import{a as Rt,n as Wt,u as Bt,c as Ft}from"../chunks/createSigningKeyPair.3f08f731.js";import{j as A}from"../chunks/singletons.bec895b8.js";var pt={},xt={get exports(){return pt},set exports(l){pt=l}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(l){(function(m,e){l.exports?l.exports=e():m.Toastify=e()})(Rt,function(m){var e=function(t){return new e.lib.init(t)},i="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:i,constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=t.duration===0?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity=t.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=t.stopOnFocus===void 0?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=t.escapeMarkup!==void 0?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var r in this.options.style)t.style[r]=this.options.style[r];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,this.options.avatar!==""){var w=document.createElement("img");w.src=this.options.avatar,w.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?t.appendChild(w):t.insertAdjacentElement("afterbegin",w)}if(this.options.close===!0){var c=document.createElement("button");c.type="button",c.setAttribute("aria-label","Close"),c.className="toast-close",c.innerHTML="&#10006;",c.addEventListener("click",function(_){_.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var u=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&u>360?t.insertAdjacentElement("afterbegin",c):t.appendChild(c)}if(this.options.stopOnFocus&&this.options.duration>0){var d=this;t.addEventListener("mouseover",function(_){window.clearTimeout(t.timeOutValue)}),t.addEventListener("mouseleave",function(){t.timeOutValue=window.setTimeout(function(){d.removeElement(t)},d.options.duration)})}if(typeof this.options.destination<"u"&&t.addEventListener("click",function(_){_.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&t.addEventListener("click",function(_){_.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var v=y("x",this.options),h=y("y",this.options),S=this.options.position=="left"?v:"-"+v,J=this.options.gravity=="toastify-top"?h:"-"+h;t.style.transform="translate("+S+","+J+")"}return t},showToast:function(){this.toastElement=this.buildToast();var t;if(typeof this.options.selector=="string"?t=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?t=this.options.selector:t=document.body,!t)throw"Root element is not defined";var r=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,r),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t={top:15,bottom:15},r={top:15,bottom:15},w={top:15,bottom:15},c=document.getElementsByClassName("toastify"),u,d=0;d<c.length;d++){E(c[d],"toastify-top")===!0?u="toastify-top":u="toastify-bottom";var v=c[d].offsetHeight;u=u.substr(9,u.length-1);var h=15,S=window.innerWidth>0?window.innerWidth:screen.width;S<=360?(c[d].style[u]=w[u]+"px",w[u]+=v+h):E(c[d],"toastify-left")===!0?(c[d].style[u]=t[u]+"px",t[u]+=v+h):(c[d].style[u]=r[u]+"px",r[u]+=v+h)}return this};function y(t,r){return r.offset[t]?isNaN(r.offset[t])?r.offset[t]:r.offset[t]+"px":"0px"}function E(t,r){return!t||typeof r!="string"?!1:!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(r)>-1)}return e.lib.init.prototype=e.lib,e})})(xt);const jt=pt,F=(l,m="")=>{jt({text:l||"",duration:5e3,destination:"https://github.com/apvarun/toastify-js",newWindow:!0,avatar:m,close:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{},onClick:function(){}}).showToast()};A.disable_scroll_handling;const zt=A.goto;A.invalidate;A.invalidateAll;A.preload_data;A.preload_code;A.before_navigate;A.after_navigate;const Ht=async(l,m)=>await fetch(l,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});function Kt(l){let m,e,i,y,E,t,r,w,c,u,d,v,h,S,J,_,k,tt,V,x,R,et,st,j,T,ot,U,z,W,it,at,H,N,nt,K,L,rt,I,lt,G,ct,B,ut,dt,ht;return{c(){m=a("main"),e=a("div"),i=a("form"),y=a("h1"),E=D("Register"),t=O(),r=a("h2"),w=D("Welcome "),c=D(l[0]),u=O(),d=a("div"),v=a("div"),h=a("label"),S=D("Username"),J=O(),_=a("div"),k=a("input"),tt=O(),V=a("div"),x=a("div"),R=a("label"),et=D("Password"),st=O(),j=a("div"),T=a("input"),ot=O(),U=a("div"),z=a("div"),W=a("label"),it=D("Confirm Password"),at=O(),H=a("div"),N=a("input"),nt=O(),K=a("div"),L=a("label"),rt=D(`I accept the Terms of Use & Privacy Policy
      `),I=a("input"),lt=O(),G=a("i"),ct=O(),B=a("button"),ut=D("Register"),this.h()},l(b){m=n(b,"MAIN",{class:!0});var C=p(m);e=n(C,"DIV",{class:!0});var mt=p(e);i=n(mt,"FORM",{class:!0,method:!0});var g=p(i);y=n(g,"H1",{});var vt=p(y);E=M(vt,"Register"),vt.forEach(f),t=P(g),r=n(g,"H2",{});var ft=p(r);w=M(ft,"Welcome "),c=M(ft,l[0]),ft.forEach(f),u=P(g),d=n(g,"DIV",{class:!0});var Y=p(d);v=n(Y,"DIV",{class:!0});var yt=p(v);h=n(yt,"LABEL",{class:!0,for:!0});var bt=p(h);S=M(bt,"Username"),bt.forEach(f),yt.forEach(f),J=P(Y),_=n(Y,"DIV",{class:!0});var gt=p(_);k=n(gt,"INPUT",{class:!0,type:!0,name:!0}),gt.forEach(f),Y.forEach(f),tt=P(g),V=n(g,"DIV",{class:!0});var Z=p(V);x=n(Z,"DIV",{class:!0});var wt=p(x);R=n(wt,"LABEL",{class:!0,for:!0});var _t=p(R);et=M(_t,"Password"),_t.forEach(f),wt.forEach(f),st=P(Z),j=n(Z,"DIV",{class:!0});var Et=p(j);T=n(Et,"INPUT",{class:!0,type:!0,name:!0}),Et.forEach(f),Z.forEach(f),ot=P(g),U=n(g,"DIV",{class:!0});var $=p(U);z=n($,"DIV",{class:!0});var kt=p(z);W=n(kt,"LABEL",{class:!0,for:!0});var Tt=p(W);it=M(Tt,"Confirm Password"),Tt.forEach(f),kt.forEach(f),at=P($),H=n($,"DIV",{class:!0});var Nt=p(H);N=n(Nt,"INPUT",{class:!0,type:!0,name:!0}),Nt.forEach(f),$.forEach(f),nt=P(g),K=n(g,"DIV",{class:!0});var Lt=p(K);L=n(Lt,"LABEL",{class:!0,for:!0});var Q=p(L);rt=M(Q,`I accept the Terms of Use & Privacy Policy
      `),I=n(Q,"INPUT",{type:!0,id:!0,name:!0}),lt=P(Q),G=n(Q,"I",{class:!0}),p(G).forEach(f),Q.forEach(f),Lt.forEach(f),ct=P(g),B=n(g,"BUTTON",{type:!0,class:!0});var Ct=p(B);ut=M(Ct,"Register"),Ct.forEach(f),g.forEach(f),mt.forEach(f),C.forEach(f),this.h()},h(){o(h,"class","form-label"),o(h,"for","username"),o(v,"class","col-3 col-sm-12"),o(k,"class","form-input"),o(k,"type","text"),o(k,"name","username"),o(_,"class","col-9 col-sm-12"),o(d,"class","form-group"),o(R,"class","form-label"),o(R,"for","password"),o(x,"class","col-3 col-sm-12"),o(T,"class","form-input"),o(T,"type","password"),o(T,"name","password"),o(j,"class","col-9 col-sm-12"),o(V,"class","form-group"),o(W,"class","form-label"),o(W,"for","confirmPassword"),o(z,"class","col-3 col-sm-12"),o(N,"class","form-input"),o(N,"type","password"),o(N,"name","confirmPassword"),o(H,"class","col-9 col-sm-12"),o(U,"class","form-group"),o(I,"type","checkbox"),o(I,"id","input-acceptTOU"),o(I,"name","acceptTOU"),o(G,"class","form-icon"),o(L,"class","form-checkbox"),o(L,"for","input-acceptTOU"),o(K,"class","form-group"),o(B,"type","submit"),o(B,"class","btn btn-primary btn-block"),o(i,"class","form-horizontal"),o(i,"method","POST"),o(e,"class","card svelte-skwoza"),o(m,"class","svelte-skwoza")},m(b,C){Ut(b,m,C),s(m,e),s(e,i),s(i,y),s(y,E),s(i,t),s(i,r),s(r,w),s(r,c),s(i,u),s(i,d),s(d,v),s(v,h),s(h,S),s(d,J),s(d,_),s(_,k),q(k,l[0]),s(i,tt),s(i,V),s(V,x),s(x,R),s(R,et),s(V,st),s(V,j),s(j,T),q(T,l[1]),s(i,ot),s(i,U),s(U,z),s(z,W),s(W,it),s(U,at),s(U,H),s(H,N),q(N,l[2]),s(i,nt),s(i,K),s(K,L),s(L,rt),s(L,I),I.checked=l[3],s(L,lt),s(L,G),s(i,ct),s(i,B),s(B,ut),dt||(ht=[X(k,"input",l[5]),X(T,"input",l[6]),X(N,"input",l[7]),X(I,"change",l[8]),X(i,"submit",Dt(l[4]))],dt=!0)},p(b,[C]){C&1&&Mt(c,b[0]),C&1&&k.value!==b[0]&&q(k,b[0]),C&2&&T.value!==b[1]&&q(T,b[1]),C&4&&N.value!==b[2]&&q(N,b[2]),C&8&&(I.checked=b[3])},i:Ot,o:Ot,d(b){b&&f(m),dt=!1,At(ht)}}}const qt="https://add-mo-na-yan.vercel.app",Jt="https://add-mo-na-yan.vercel.app/api/user/register";function Gt(l,m,e){Wt.util=Bt;let i="",y="",E="",t=!1;const r=async()=>{if(i.length<5){F("your username must be at least 5 characters");return}else if(y.length<6){F("your password must be at least 6 characters");return}else if(y!==E){F("Passwords are not the same.");return}else if(!t){F("Please accept the Terms of Usage");return}const v=await Ft({username:i,password:y});F(JSON.stringify(v));const h=await Ht(Jt,{username:i,publicKeyBase64:v.publicKeyBase64});console.log("response"),console.log(h),h.status===201&&(zt(qt),F("Registration Successful, logged in as "+i)),h.status!==201&&F("Registration failed, perhaps the user account is already registered.")};St(async()=>{});function w(){i=this.value,e(0,i)}function c(){y=this.value,e(1,y)}function u(){E=this.value,e(2,E)}function d(){t=this.checked,e(3,t)}return[i,y,E,t,r,w,c,u,d]}class Zt extends Pt{constructor(m){super(),It(this,m,Gt,Kt,Vt,{})}}export{Zt as default};
