import{S as dt,i as ut,s as ct,k as c,q as x,a as R,l as f,m as v,r as W,h as p,c as A,n,b as ft,D as s,K as B,L as J,M as pt,u as ht,E as rt,N as mt,o as vt}from"../chunks/index.64d89341.js";import{a as yt,n as H,u as bt}from"../chunks/createSigningKeyPair.019d4cf5.js";import{j as C}from"../chunks/singletons.cc18c9dd.js";var Q={},gt={get exports(){return Q},set exports(d){Q=d}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(d){(function(u,e){d.exports?d.exports=e():u.Toastify=e()})(yt,function(u){var e=function(t){return new e.lib.init(t)},o="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:o,constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=t.duration===0?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity=t.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=t.stopOnFocus===void 0?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=t.escapeMarkup!==void 0?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var i in this.options.style)t.style[i]=this.options.style[i];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,this.options.avatar!==""){var h=document.createElement("img");h.src=this.options.avatar,h.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?t.appendChild(h):t.insertAdjacentElement("afterbegin",h)}if(this.options.close===!0){var a=document.createElement("button");a.type="button",a.setAttribute("aria-label","Close"),a.className="toast-close",a.innerHTML="&#10006;",a.addEventListener("click",function(g){g.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&r>360?t.insertAdjacentElement("afterbegin",a):t.appendChild(a)}if(this.options.stopOnFocus&&this.options.duration>0){var l=this;t.addEventListener("mouseover",function(g){window.clearTimeout(t.timeOutValue)}),t.addEventListener("mouseleave",function(){t.timeOutValue=window.setTimeout(function(){l.removeElement(t)},l.options.duration)})}if(typeof this.options.destination<"u"&&t.addEventListener("click",function(g){g.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&t.addEventListener("click",function(g){g.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var b=y("x",this.options),m=y("y",this.options),O=this.options.position=="left"?b:"-"+b,F=this.options.gravity=="toastify-top"?m:"-"+m;t.style.transform="translate("+O+","+F+")"}return t},showToast:function(){this.toastElement=this.buildToast();var t;if(typeof this.options.selector=="string"?t=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?t=this.options.selector:t=document.body,!t)throw"Root element is not defined";var i=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,i),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t={top:15,bottom:15},i={top:15,bottom:15},h={top:15,bottom:15},a=document.getElementsByClassName("toastify"),r,l=0;l<a.length;l++){N(a[l],"toastify-top")===!0?r="toastify-top":r="toastify-bottom";var b=a[l].offsetHeight;r=r.substr(9,r.length-1);var m=15,O=window.innerWidth>0?window.innerWidth:screen.width;O<=360?(a[l].style[r]=h[r]+"px",h[r]+=b+m):N(a[l],"toastify-left")===!0?(a[l].style[r]=t[r]+"px",t[r]+=b+m):(a[l].style[r]=i[r]+"px",i[r]+=b+m)}return this};function y(t,i){return i.offset[t]?isNaN(i.offset[t])?i.offset[t]:i.offset[t]+"px":"0px"}function N(t,i){return!t||typeof i!="string"?!1:!!(t.className&&t.className.trim().split(/\s+/gi).indexOf(i)>-1)}return e.lib.init.prototype=e.lib,e})})(gt);const wt=Q,lt=(d,u="")=>{wt({text:d||"",duration:5e3,destination:"https://github.com/apvarun/toastify-js",newWindow:!0,avatar:u,close:!0,gravity:"bottom",position:"right",stopOnFocus:!0,style:{},onClick:function(){}}).showToast()};C.disable_scroll_handling;const _t=C.goto;C.invalidate;C.invalidateAll;C.preload_data;C.preload_code;C.before_navigate;C.after_navigate;const Et=async(d,u)=>await fetch(d,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});function kt(d){let u,e,o,y,N,t,i,h,a,r,l,b,m,O,F,g,_,U,T,P,I,j,z,V,E,q,M,K,$,X;return{c(){u=c("main"),e=c("div"),o=c("form"),y=c("h1"),N=x("Register"),t=R(),i=c("h2"),h=x("Welcome "),a=x(d[0]),r=R(),l=c("div"),b=c("div"),m=c("label"),O=x("Username"),F=R(),g=c("div"),_=c("input"),U=R(),T=c("div"),P=c("div"),I=c("label"),j=x("Password"),z=R(),V=c("div"),E=c("input"),q=R(),M=c("button"),K=x("Register"),this.h()},l(w){u=f(w,"MAIN",{class:!0});var L=v(u);e=f(L,"DIV",{class:!0});var Y=v(e);o=f(Y,"FORM",{class:!0,method:!0});var k=v(o);y=f(k,"H1",{});var Z=v(y);N=W(Z,"Register"),Z.forEach(p),t=A(k),i=f(k,"H2",{});var G=v(i);h=W(G,"Welcome "),a=W(G,d[0]),G.forEach(p),r=A(k),l=f(k,"DIV",{class:!0});var S=v(l);b=f(S,"DIV",{class:!0});var tt=v(b);m=f(tt,"LABEL",{class:!0,for:!0});var et=v(m);O=W(et,"Username"),et.forEach(p),tt.forEach(p),F=A(S),g=f(S,"DIV",{class:!0});var st=v(g);_=f(st,"INPUT",{class:!0,type:!0,name:!0}),st.forEach(p),S.forEach(p),U=A(k),T=f(k,"DIV",{class:!0});var D=v(T);P=f(D,"DIV",{class:!0});var ot=v(P);I=f(ot,"LABEL",{class:!0,for:!0});var it=v(I);j=W(it,"Password"),it.forEach(p),ot.forEach(p),z=A(D),V=f(D,"DIV",{class:!0});var at=v(V);E=f(at,"INPUT",{class:!0,type:!0,name:!0}),at.forEach(p),D.forEach(p),q=A(k),M=f(k,"BUTTON",{type:!0,class:!0});var nt=v(M);K=W(nt,"Register"),nt.forEach(p),k.forEach(p),Y.forEach(p),L.forEach(p),this.h()},h(){n(m,"class","form-label"),n(m,"for","username"),n(b,"class","col-3 col-sm-12"),n(_,"class","form-input"),n(_,"type","text"),n(_,"name","username"),n(g,"class","col-9 col-sm-12"),n(l,"class","form-group"),n(I,"class","form-label"),n(I,"for","password"),n(P,"class","col-3 col-sm-12"),n(E,"class","form-input"),n(E,"type","password"),n(E,"name","password"),n(V,"class","col-9 col-sm-12"),n(T,"class","form-group"),n(M,"type","submit"),n(M,"class","btn btn-primary btn-block"),n(o,"class","form-horizontal"),n(o,"method","POST"),n(e,"class","card svelte-1d3defu"),n(u,"class","svelte-1d3defu")},m(w,L){ft(w,u,L),s(u,e),s(e,o),s(o,y),s(y,N),s(o,t),s(o,i),s(i,h),s(i,a),s(o,r),s(o,l),s(l,b),s(b,m),s(m,O),s(l,F),s(l,g),s(g,_),B(_,d[0]),s(o,U),s(o,T),s(T,P),s(P,I),s(I,j),s(T,z),s(T,V),s(V,E),B(E,d[1]),s(o,q),s(o,M),s(M,K),$||(X=[J(_,"input",d[3]),J(E,"input",d[4]),J(o,"submit",pt(d[2]))],$=!0)},p(w,[L]){L&1&&ht(a,w[0]),L&1&&_.value!==w[0]&&B(_,w[0]),L&2&&E.value!==w[1]&&B(E,w[1])},i:rt,o:rt,d(w){w&&p(u),$=!1,mt(X)}}}const Nt="https://add-mo-na-yan.vercel.app",Tt="https://add-mo-na-yan.vercel.app/api/user/register";function Lt(d,u,e){H.util=bt;let o="",y="";const N=async()=>{const h=H.util.encodeBase64(H.hash(H.util.decodeUTF8(y))),a=await Et(Tt,{username:o,publicKeyBase64:h});console.log("passwordHash"),console.log(h),console.log("username"),console.log(o),console.log("response"),console.log(a),a.status===201&&(_t(Nt),lt("Registration Successful, logged in as "+o)),a.status!==201&&lt("Registration failed, perhaps the user account is already registered.")};vt(async()=>{});function t(){o=this.value,e(0,o)}function i(){y=this.value,e(1,y)}return[o,y,N,t,i]}class Mt extends dt{constructor(u){super(),ut(this,u,Lt,kt,ct,{})}}export{Mt as default};
