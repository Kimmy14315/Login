import{S as Q,i as V,s as X,k as u,q as M,a as S,l as p,m as P,r as O,h as o,c as T,C as R,n as m,b as N,D as t,K as q,L as j,M as Y,u as Z,E as z,N as $,J as x,o as ee}from"../chunks/index.64d89341.js";import{c as te}from"../chunks/createSigningKeyPair.3f08f731.js";import{w as se}from"../chunks/index.11bd6f3c.js";const ae=se("New User");function re(i){let c,h,d,l,b,v,y,s,a,f,U,I,r,C,g,w,k,A,_,G,E,H,J,D;return{c(){c=u("h1"),h=M("Login"),d=S(),l=u("h2"),b=M("Welcome "),v=M(i[2]),y=S(),s=u("form"),a=u("label"),f=u("img"),I=S(),r=u("input"),C=S(),g=u("label"),w=u("img"),A=S(),_=u("input"),G=S(),E=u("button"),H=M("Login"),this.h()},l(e){c=p(e,"H1",{});var n=P(c);h=O(n,"Login"),n.forEach(o),d=T(e),l=p(e,"H2",{});var W=P(l);b=O(W,"Welcome "),v=O(W,i[2]),W.forEach(o),y=T(e),s=p(e,"FORM",{method:!0});var L=P(s);a=p(L,"LABEL",{});var B=P(a);f=p(B,"IMG",{src:!0,alt:!0}),I=T(B),r=p(B,"INPUT",{type:!0,name:!0}),B.forEach(o),C=T(L),g=p(L,"LABEL",{});var K=P(g);w=p(K,"IMG",{src:!0,alt:!0}),A=T(K),_=p(K,"INPUT",{type:!0,name:!0}),K.forEach(o),G=T(L),E=p(L,"BUTTON",{type:!0});var F=P(E);H=O(F,"Login"),F.forEach(o),L.forEach(o),this.h()},h(){R(f.src,U="user.svg")||m(f,"src",U),m(f,"alt","Icon of User"),m(r,"type","text"),m(r,"name","username"),R(w.src,k="shield.svg")||m(w,"src",k),m(w,"alt","Icon of a Shield representing password"),m(_,"type","password"),m(_,"name","password"),m(E,"type","submit"),m(s,"method","POST")},m(e,n){N(e,c,n),t(c,h),N(e,d,n),N(e,l,n),t(l,b),t(l,v),N(e,y,n),N(e,s,n),t(s,a),t(a,f),t(a,I),t(a,r),q(r,i[0]),t(s,C),t(s,g),t(g,w),t(g,A),t(g,_),q(_,i[1]),t(s,G),t(s,E),t(E,H),J||(D=[j(r,"input",i[4]),j(_,"input",i[5]),j(s,"submit",Y(i[3]))],J=!0)},p(e,[n]){n&4&&Z(v,e[2]),n&1&&r.value!==e[0]&&q(r,e[0]),n&2&&_.value!==e[1]&&q(_,e[1])},i:z,o:z,d(e){e&&o(c),e&&o(d),e&&o(l),e&&o(y),e&&o(s),J=!1,$(D)}}}function ne(i,c,h){let d;x(i,ae,a=>h(2,d=a));let l,b;const v=async a=>{const f={username:a.target.username.value,password:a.target.password.value},U=await te(f),I={username:f.username,publicKeyBase64:U.publicKeyBase64},r=await fetch("https://add-mo-na-yan.vercel.app/api/user/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});return console.log(r),r};ee(async()=>{});function y(){l=this.value,h(0,l)}function s(){b=this.value,h(1,b)}return[l,b,d,v,y,s]}class ue extends Q{constructor(c){super(),V(this,c,ne,re,X,{})}}export{ue as default};
